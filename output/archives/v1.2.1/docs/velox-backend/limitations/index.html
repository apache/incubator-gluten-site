<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul:nth-of-type(2) > li > ul > li > a, .site-nav > ul:nth-of-type(2) > li > ul > li > ul > li > a, .site-nav > ul:nth-of-type(2) > li > ul > li > ul > li > ul > li > a, .site-nav > ul:nth-of-type(2) > li > ul > li > ul > li > ul > li > ul > li > a, .site-nav > ul:nth-of-type(2) > li > ul > li > ul > li > ul > li > ul > li > ul > li:not(:nth-child(2)) > a, .site-nav > ul:nth-of-type(2) > li > ul > li > ul > li > ul > li > ul > li > ul > li > ul > li a { background-image: none; } .site-nav > ul:not(:nth-of-type(2)) a, .site-nav li.external a { background-image: none; } .site-nav > ul:nth-of-type(2) > li > ul > li:nth-child(2) > ul > li:nth-child(2) > ul > li:nth-child(1) > ul > li:nth-child(4) > ul > li:nth-child(2) > a { font-weight: 600; text-decoration: none; } .site-nav > ul.nav-category-list > li > button svg, .site-nav > ul:nth-of-type(2) > li > ul > li:nth-child(2) > button svg, .site-nav > ul:nth-of-type(2) > li > ul > li:nth-child(2) > ul > li:nth-child(2) > button svg, .site-nav > ul:nth-of-type(2) > li > ul > li:nth-child(2) > ul > li:nth-child(2) > ul > li:nth-child(1) > button svg, .site-nav > ul:nth-of-type(2) > li > ul > li:nth-child(2) > ul > li:nth-child(2) > ul > li:nth-child(1) > ul > li:nth-child(4) > button svg, .site-nav > ul:nth-of-type(2) > li > ul > li:nth-child(2) > ul > li:nth-child(2) > ul > li:nth-child(1) > ul > li:nth-child(4) > ul > li:nth-child(2) > button svg { transform: rotate(-90deg); } .site-nav > ul.nav-category-list > li.nav-list-item > ul.nav-list, .site-nav > ul:nth-of-type(2) > li > ul > li.nav-list-item:nth-child(2) > ul.nav-list, .site-nav > ul:nth-of-type(2) > li > ul > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list, .site-nav > ul:nth-of-type(2) > li > ul > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list, .site-nav > ul:nth-of-type(2) > li > ul > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(4) > ul.nav-list, .site-nav > ul:nth-of-type(2) > li > ul > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(4) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Limitations(v1.2.1) | Apache Gluten incubating</title> <meta name="generator" content="Jekyll v3.9.3" /> <meta property="og:title" content="Limitations(v1.2.1)" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Velox Backend Limitations This document describes the limitations of velox backend by listing some known cases where exception will be thrown, gluten behaves incompatibly with spark, or certain plan’s execution must fall back to vanilla spark, etc." /> <meta property="og:description" content="Velox Backend Limitations This document describes the limitations of velox backend by listing some known cases where exception will be thrown, gluten behaves incompatibly with spark, or certain plan’s execution must fall back to vanilla spark, etc." /> <link rel="canonical" href="https://gluten.apache.org/archives/v1.2.1/docs/velox-backend/limitations/" /> <meta property="og:url" content="https://gluten.apache.org/archives/v1.2.1/docs/velox-backend/limitations/" /> <meta property="og:site_name" content="Apache Gluten incubating" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2025-11-25T00:01:43+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Limitations(v1.2.1)" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-11-25T00:01:43+00:00","datePublished":"2025-11-25T00:01:43+00:00","description":"Velox Backend Limitations This document describes the limitations of velox backend by listing some known cases where exception will be thrown, gluten behaves incompatibly with spark, or certain plan’s execution must fall back to vanilla spark, etc.","headline":"Limitations(v1.2.1)","mainEntityOfPage":{"@type":"WebPage","@id":"https://gluten.apache.org/archives/v1.2.1/docs/velox-backend/limitations/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://gluten.apache.org/assets/images/gluten-logo-blue.png"}},"url":"https://gluten.apache.org/archives/v1.2.1/docs/velox-backend/limitations/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="Apache Gluten incubating"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/downloads/" class="nav-list-link">Downloads</a></li><li class="nav-list-item"><a href="/blog/" class="nav-list-link">Blog</a></li><li class="nav-list-item"><a href="/references/" class="nav-list-link">Gluten References</a></li><li class="nav-list-item"><a href="/poweredby/" class="nav-list-link">Powered by Gluten</a></li><li class="nav-list-item"><a href="/contributing/" class="nav-list-link">Contributing to Gluten</a></li><li class="nav-list-item"><a href="/community/" class="nav-list-link">Community</a></li><li class="nav-list-item"><a href="/about/" class="nav-list-link">About</a></li></ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="Toggle collection Documentations" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><div class="nav-category">Documentations</div> <ul class="nav-list"><li class="nav-list-item"><a href="/docs/latest.html" class="nav-list-link">Documentation(Latest)</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Archives category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/" class="nav-list-link">Archives</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.1.1 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.1.1/" class="nav-list-link">v1.1.1</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.1.1/Documentation category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.1.1/docs/" class="nav-list-link">v1.1.1/Documentation</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.1.1/Velox Backend category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.1.1/docs/velox/" class="nav-list-link">v1.1.1/Velox Backend</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.1.1/docs/velox/getting-started/" class="nav-list-link">v1.1.1/Getting-Started with Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/docs/velox/build_parameters/" class="nav-list-link">v1.1.1/Build Parameters for Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/docs/velox/s3/" class="nav-list-link">v1.1.1/Using S3 with Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/docs/velox/gcs/" class="nav-list-link">v1.1.1/Using GCS with Gluten</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.1.1/ClickHouse Backend category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.1.1/docs/clickhouse/" class="nav-list-link">v1.1.1/ClickHouse Backend</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.1.1/docs/clickhouse/getting-started/" class="nav-list-link">v1.1.1/Getting Started with ClickHouse Backend</a></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.1.1/Developers category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.1.1/developers/" class="nav-list-link">v1.1.1/Developers</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.1.1/developers/newto/" class="nav-list-link">v1.1.1/New To Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/howto/" class="nav-list-link">v1.1.1/How To Use Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/microbenchmark/" class="nav-list-link">v1.1.1/Micro Benchmarks for Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/cpp_code_style/" class="nav-list-link">v1.1.1/CPP Code Style</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/velox_function_development/" class="nav-list-link">v1.1.1/Velox Function Development</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/docker_ubuntu/" class="nav-list-link">v1.1.1/Docker script for Ubuntu 22.04/20.04</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/docker_centos8" class="nav-list-link">v1.1.1/Docker script for CentOS 8</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/docker_centos7/" class="nav-list-link">v1.1.1/Docker script for CentOS 7</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/substrait/" class="nav-list-link">v1.1.1/Substrait Modifications</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/howtorelease/" class="nav-list-link">v1.1.1/How To Release</a></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.2.1 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.2.1/" class="nav-list-link">v1.2.1</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Documentations(v1.2.1) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.2.1/docs/" class="nav-list-link">Documentations(v1.2.1)</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Getting-Started(v1.2.1) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.2.1/docs/getting-started/" class="nav-list-link">Getting-Started(v1.2.1)</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/velox-backend/" class="nav-list-link">Getting Start with Velox Backend(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/clickhouse-backend/" class="nav-list-link">Getting start with ClickHouse Backend(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/build-guide/" class="nav-list-link">Build Parameters for Velox Backend(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/s3/" class="nav-list-link">Using S3 with Gluten(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/gcs/" class="nav-list-link">Using GCS with Gluten(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/abfs/" class="nav-list-link">Using ABFS with Gluten(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/localcache/" class="nav-list-link">Velox Local Caching(v1.2.1)</a></li></ul></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/configuration/" class="nav-list-link">Configuration(v1.2.1)</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Developers(v1.2.1) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.2.1/docs/developers/" class="nav-list-link">Developers(v1.2.1)</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/how-to-use/" class="nav-list-link">How To Use Gluten(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/new-to/" class="nav-list-link">New To Gluten(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/microbenchmarks/" class="nav-list-link">Micro Benchmarks for Velox Backend(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/cpp-code-style/" class="nav-list-link">CPP Code Style(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/velox-function-dev/" class="nav-list-link">Velox Function Development(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/docker-ubuntu/" class="nav-list-link">Docker script for Ubuntu 22.04/20.04(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/docker-centos7/" class="nav-list-link">Docker script for CentOS 7(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/docker-centos8/" class="nav-list-link">Docker script for CentOS 8(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/substrait/" class="nav-list-link">Substrait Modifications(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/how-to-release/" class="nav-list-link">How To Release(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/how-to-security-scan/" class="nav-list-link">How To Scan Security issues(v1.2.1)</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Velox Backend(v1.2.1) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.2.1/docs/velox-backend/" class="nav-list-link">Velox Backend(v1.2.1)</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.2.1/docs/velox-backend/support/" class="nav-list-link">Supported Operators & Functions(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/velox-backend/limitations/" class="nav-list-link">Limitations(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/velox-backend/troubleshooting/" class="nav-list-link">Troubleshooting(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/velox-backend/udf/" class="nav-list-link">Velox UDF(v1.2.1)</a></li></ul></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.3.0 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.3.0/" class="nav-list-link">v1.3.0</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Getting-Started category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.3.0/getting-started" class="nav-list-link">Getting-Started</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/velox-backend/" class="nav-list-link">Getting Start with Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/clickhouse-backend/" class="nav-list-link">Getting start with ClickHouse Backend</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/build-guide/" class="nav-list-link">Build Parameters for Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/s3/" class="nav-list-link">Using S3 with Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/gcs/" class="nav-list-link">Using GCS with Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/abfs/" class="nav-list-link">Using ABFS with Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/localcache/" class="nav-list-link">Velox Local Caching</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Velox Backend category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.3.0/velox-backend" class="nav-list-link">Velox Backend</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.3.0/velox-backend/support/" class="nav-list-link">Supported Operators & Functions</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/velox-backend/limitations/" class="nav-list-link">Limitations</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/velox-backend/troubleshooting/" class="nav-list-link">Troubleshooting</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/velox-backend/udf/" class="nav-list-link">Velox UDF</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Developers category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.3.0/developers" class="nav-list-link">Developers</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.3.0/developers/how-to-use/" class="nav-list-link">How To Use Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/new-to/" class="nav-list-link">New To Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/microbenchmarks/" class="nav-list-link">Micro Benchmarks for Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/velox-function-dev/" class="nav-list-link">Velox Function Development</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/docker-ubuntu/" class="nav-list-link">Docker script for Ubuntu 22.04/20.04</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/docker-centos7/" class="nav-list-link">Docker script for CentOS 7</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/docker-centos8/" class="nav-list-link">Docker script for CentOS 8</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/substrait/" class="nav-list-link">Substrait Modifications</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/how-to-security-scan/" class="nav-list-link">How To Scan Security issues</a></li></ul></li><li class="nav-list-item"><a href="/archives/v1.3.0/configuration" class="nav-list-link">Configuration</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/cpp-code-style/" class="nav-list-link">CPP Code Style</a></li></ul></li></ul></li></ul> </li> </ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Apache Gluten incubating" aria-label="Search Apache Gluten incubating" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <style> /* Style The Dropdown Button */ .dropbtn { background-color: #0000ff80; color: white; padding: 22px; width: 100%; font-size: 14px; border: none; cursor: pointer; } /* The container <div> - needed to position the dropdown content */ .dropdown { position: relative; display: inline-block; } /* Dropdown Content (Hidden by Default) */ .dropdown-content { display: none; position: absolute; background-color: #f9f9f9; min-width: 160px; box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); z-index: 1; } /* Links inside the dropdown */ .dropdown-content a { color: black; padding: 12px 14px; text-decoration: none; display: block; } /* Change color of dropdown links on hover */ .dropdown-content a:hover {background-color: #f1f1f1} /* Show the dropdown menu on hover */ .dropdown:hover .dropdown-content { display: block; } /* Change the background color of the dropdown button when the dropdown content is shown */ .dropdown:hover .dropbtn { background-color: #0000ff; } </style> <!-- Collect the nav links, forms, and other content for toggling --> <div class="dropdown" id="apache-navbar" style="float:left;"> <button class="dropbtn">ASF</button> <div class="dropdown-content"> <a class="dropdown-item" href="https://www.apache.org/">Foundation</a> <a class="dropdown-item" href="https://www.apache.org/events/current-event.html">Event</a> <a class="dropdown-item" href="https://www.apache.org/licenses/">License</a> <a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="dropdown-item" href="https://www.apache.org/security/">Security</a> <a class="dropdown-item" href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy</a> <a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a> </div> </div><!-- /.navbar-collapse --> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/apache/incubator-gluten" class="site-button" target="_blank" rel="noopener noreferrer" > Apache Gluten Github </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/archives/">Archives</a></li> <li class="breadcrumb-nav-list-item"><a href="/archives/v1.2.1/">v1.2.1</a></li> <li class="breadcrumb-nav-list-item"><a href="/archives/v1.2.1/docs/">Documentations(v1.2.1)</a></li> <li class="breadcrumb-nav-list-item"><a href="/archives/v1.2.1/docs/velox-backend/">Velox Backend(v1.2.1)</a></li> <li class="breadcrumb-nav-list-item"><span>Limitations(v1.2.1)</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="velox-backend-limitations"> <a href="#velox-backend-limitations" class="anchor-heading" aria-labelledby="velox-backend-limitations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Velox Backend Limitations </h1> <p>This document describes the limitations of velox backend by listing some known cases where exception will be thrown, gluten behaves incompatibly with spark, or certain plan’s execution must fall back to vanilla spark, etc.</p> <h3 id="override-of-spark-classes-for-spark32-and-spark33"> <a href="#override-of-spark-classes-for-spark32-and-spark33" class="anchor-heading" aria-labelledby="override-of-spark-classes-for-spark32-and-spark33"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Override of Spark classes (For Spark3.2 and Spark3.3) </h3> <p>Gluten avoids to modify Spark’s existing code and use Spark APIs if possible. However, some APIs aren’t exposed in Vanilla spark and we have to copy the Spark file and do the hardcode changes. The list of override classes can be found as ignoreClasses in package/pom.xml . If you use customized Spark, you may check if the files are modified in your spark, otherwise your changes will be overrided.</p> <p>So you need to ensure preferentially load the Gluten jar to overwrite the jar of vanilla spark. Refer to <a href="https://github.com/apache/incubator-gluten/blob/main/docs/velox-backend-troubleshooting.md#incompatible-class-error-when-using-native-writer">How to prioritize loading Gluten jars in Spark</a>.</p> <p>If not officially supported spark3.2/3.3 version is used, NoSuchMethodError can be thrown at runtime. More details see <a href="https://github.com/apache/incubator-gluten/issues/4514">issue-4514</a>.</p> <h3 id="fallbacks"> <a href="#fallbacks" class="anchor-heading" aria-labelledby="fallbacks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Fallbacks </h3> <p>Except the unsupported operators, functions, file formats, data sources listed in , there are some known cases also fall back to Vanilla Spark.</p> <h4 id="ansi"> <a href="#ansi" class="anchor-heading" aria-labelledby="ansi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ANSI </h4> <p>Gluten currently doesn’t support ANSI mode. If ANSI is enabled, Spark plan’s execution will always fall back to vanilla Spark.</p> <h4 id="runtime-bloomfilter"> <a href="#runtime-bloomfilter" class="anchor-heading" aria-labelledby="runtime-bloomfilter"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Runtime BloomFilter </h4> <p>Velox BloomFilter’s serialization format is different from Spark’s. BloomFilter binary generated by Velox can’t be deserialized by vanilla spark. So if <code class="language-plaintext highlighter-rouge">might_contain</code> falls back, we fall back <code class="language-plaintext highlighter-rouge">bloom_filter_agg</code> to vanilla spark also.</p> <h4 id="case-sensitive-mode"> <a href="#case-sensitive-mode" class="anchor-heading" aria-labelledby="case-sensitive-mode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Case Sensitive mode </h4> <p>Gluten only supports spark default case-insensitive mode. If case-sensitive mode is enabled, user may get incorrect result.</p> <h4 id="regexp-functions"> <a href="#regexp-functions" class="anchor-heading" aria-labelledby="regexp-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Regexp functions </h4> <p>In Velox, regexp functions (<code class="language-plaintext highlighter-rouge">rlike</code>, <code class="language-plaintext highlighter-rouge">regexp_extract</code>, etc.) are implemented based on RE2, while in Spark they are based on <code class="language-plaintext highlighter-rouge">java.util.regex</code>.</p> <ul> <li>Lookaround (lookahead/lookbehind) pattern is not supported in RE2.</li> <li>When matching white space with pattern “\s”, RE2 doesn’t treat “\v” (or “\x0b”) as white space, but <code class="language-plaintext highlighter-rouge">java.util.regex</code> does.</li> </ul> <p>There are a few unknown incompatible cases. If user cannot tolerate the incompatibility risk, please enable the below configuration property.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>spark.gluten.sql.fallbackRegexpExpressions
</code></pre></div></div> <h4 id="filesource-format"> <a href="#filesource-format" class="anchor-heading" aria-labelledby="filesource-format"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> FileSource format </h4> <p>Currently, Gluten only fully supports parquet file format and partially support ORC. If other format is used, scan operator falls back to vanilla spark.</p> <h4 id="partitioned-table-scan"> <a href="#partitioned-table-scan" class="anchor-heading" aria-labelledby="partitioned-table-scan"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Partitioned Table Scan </h4> <p>Gluten only support the partitioned table scan when the file path contain the partition info, otherwise will fall back to vanilla spark.</p> <h3 id="incompatible-behavior"> <a href="#incompatible-behavior" class="anchor-heading" aria-labelledby="incompatible-behavior"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Incompatible behavior </h3> <p>In certain cases, Gluten result may be different from Vanilla spark.</p> <h4 id="json-functions"> <a href="#json-functions" class="anchor-heading" aria-labelledby="json-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> JSON functions </h4> <p>Velox only supports double quotes surrounded strings, not single quotes, in JSON data. If single quotes are used, gluten will produce incorrect result.</p> <p>Velox doesn’t support [*] in path when get_json_object function is called and returns null instead.</p> <h4 id="parquet-read-conf"> <a href="#parquet-read-conf" class="anchor-heading" aria-labelledby="parquet-read-conf"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parquet read conf </h4> <p>Gluten supports <code class="language-plaintext highlighter-rouge">spark.files.ignoreCorruptFiles</code> with default false, if true, the behavior is same as config false. Gluten ignores <code class="language-plaintext highlighter-rouge">spark.sql.parquet.datetimeRebaseModeInRead</code>, it only returns what write in parquet file. It does not consider the difference between legacy hybrid (Julian Gregorian) calendar and Proleptic Gregorian calendar. The result may be different with vanilla spark.</p> <h4 id="parquet-write-conf"> <a href="#parquet-write-conf" class="anchor-heading" aria-labelledby="parquet-write-conf"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parquet write conf </h4> <p>Spark has <code class="language-plaintext highlighter-rouge">spark.sql.parquet.datetimeRebaseModeInWrite</code> config to decide whether legacy hybrid (Julian + Gregorian) calendar or Proleptic Gregorian calendar should be used during parquet writing for dates/timestamps. If the parquet to read is written by Spark with this config as true, Velox’s TableScan will output different result when reading it back.</p> <h4 id="partition-write-for-spark32-and-spark33"> <a href="#partition-write-for-spark32-and-spark33" class="anchor-heading" aria-labelledby="partition-write-for-spark32-and-spark33"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Partition write (For Spark3.2 and Spark3.3) </h4> <p>Gluten only supports static partition writes and does not support dynamic partition writes.</p> <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">spark</span><span class="o">.</span><span class="py">sql</span><span class="o">(</span><span class="s">"CREATE TABLE t (c int, d long, e long) STORED AS PARQUET partitioned by (c, d)"</span><span class="o">)</span>
<span class="nv">spark</span><span class="o">.</span><span class="py">sql</span><span class="o">(</span><span class="s">"INSERT OVERWRITE TABLE t partition(c=1, d=2) SELECT 3 as e"</span><span class="o">)</span>
</code></pre></div></div> <p>Gluten does not support dynamic partition write and bucket write, Exception may be raised if you use. e.g.,</p> <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">spark</span><span class="o">.</span><span class="py">range</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="py">selectExpr</span><span class="o">(</span><span class="s">"id as c1"</span><span class="o">,</span> <span class="s">"id % 7 as p"</span><span class="o">)</span>
  <span class="o">.</span><span class="py">write</span>
  <span class="o">.</span><span class="py">format</span><span class="o">(</span><span class="s">"parquet"</span><span class="o">)</span>
  <span class="o">.</span><span class="py">partitionBy</span><span class="o">(</span><span class="s">"p"</span><span class="o">)</span>
  <span class="o">.</span><span class="py">save</span><span class="o">(</span><span class="nv">f</span><span class="o">.</span><span class="py">getCanonicalPath</span><span class="o">)</span>
</code></pre></div></div> <h4 id="partition-write-for-spark34-and-later"> <a href="#partition-write-for-spark34-and-later" class="anchor-heading" aria-labelledby="partition-write-for-spark34-and-later"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Partition write (For Spark3.4 and later) </h4> <p>Gluten supports static partition writes and dynamic partition writes.</p> <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">spark</span><span class="o">.</span><span class="py">sql</span><span class="o">(</span><span class="s">"CREATE TABLE t (c int, d long, e long) STORED AS PARQUET partitioned by (c, d)"</span><span class="o">)</span>
<span class="nv">spark</span><span class="o">.</span><span class="py">sql</span><span class="o">(</span><span class="s">"INSERT OVERWRITE TABLE t partition(c=1, d) SELECT 2 as d, 3 as e"</span><span class="o">)</span>
</code></pre></div></div> <p>Gluten does not support bucket write, and will fall back to vanilla Spark.</p> <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">spark</span><span class="o">.</span><span class="py">range</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="py">selectExpr</span><span class="o">(</span><span class="s">"id as c1"</span><span class="o">,</span> <span class="s">"id % 7 as p"</span><span class="o">)</span>
  <span class="o">.</span><span class="py">write</span>
  <span class="o">.</span><span class="py">format</span><span class="o">(</span><span class="s">"parquet"</span><span class="o">)</span>
  <span class="o">.</span><span class="py">bucketBy</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="s">"c1"</span><span class="o">)</span>
  <span class="o">.</span><span class="py">save</span><span class="o">(</span><span class="nv">f</span><span class="o">.</span><span class="py">getCanonicalPath</span><span class="o">)</span>
</code></pre></div></div> <h4 id="ctas-write-for-spark32-and-spark33"> <a href="#ctas-write-for-spark32-and-spark33" class="anchor-heading" aria-labelledby="ctas-write-for-spark32-and-spark33"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CTAS write (For Spark3.2 and Spark3.3) </h4> <p>Gluten does not create table as select. It may raise exception. e.g.,</p> <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">spark</span><span class="o">.</span><span class="py">range</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="py">toDF</span><span class="o">(</span><span class="s">"id"</span><span class="o">)</span>
  <span class="o">.</span><span class="py">write</span>
  <span class="o">.</span><span class="py">format</span><span class="o">(</span><span class="s">"parquet"</span><span class="o">)</span>
  <span class="o">.</span><span class="py">saveAsTable</span><span class="o">(</span><span class="s">"velox_ctas"</span><span class="o">)</span>
</code></pre></div></div> <h4 id="ctas-write-for-spark34-and-later"> <a href="#ctas-write-for-spark34-and-later" class="anchor-heading" aria-labelledby="ctas-write-for-spark34-and-later"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CTAS write (For Spark3.4 and later) </h4> <p>Gluten supports create table as select with parquet file format.</p> <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">spark</span><span class="o">.</span><span class="py">range</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="py">toDF</span><span class="o">(</span><span class="s">"id"</span><span class="o">)</span>
  <span class="o">.</span><span class="py">write</span>
  <span class="o">.</span><span class="py">format</span><span class="o">(</span><span class="s">"parquet"</span><span class="o">)</span>
  <span class="o">.</span><span class="py">saveAsTable</span><span class="o">(</span><span class="s">"velox_ctas"</span><span class="o">)</span>
</code></pre></div></div> <h4 id="hivefileformat-write"> <a href="#hivefileformat-write" class="anchor-heading" aria-labelledby="hivefileformat-write"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> HiveFileFormat write </h4> <p>Gluten supports writes of HiveFileFormat when the output file type is of type <code class="language-plaintext highlighter-rouge">parquet</code> only</p> <h4 id="nan-support"> <a href="#nan-support" class="anchor-heading" aria-labelledby="nan-support"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> NaN support </h4> <p>Velox does NOT support NaN. So unexpected result can be obtained for a few cases, e.g., comparing a number with NaN.</p> <h4 id="configuration"> <a href="#configuration" class="anchor-heading" aria-labelledby="configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration </h4> <p>Parquet write only support three configs, other will not take effect.</p> <ul> <li>compression code: <ul> <li>sql conf: <code class="language-plaintext highlighter-rouge">spark.sql.parquet.compression.codec</code></li> <li>option: <code class="language-plaintext highlighter-rouge">compression.codec</code></li> </ul> </li> <li>block size <ul> <li>sql conf: <code class="language-plaintext highlighter-rouge">spark.gluten.sql.columnar.parquet.write.blockSize</code></li> <li>option: <code class="language-plaintext highlighter-rouge">parquet.block.size</code></li> </ul> </li> <li>block rows <ul> <li>sql conf: <code class="language-plaintext highlighter-rouge">spark.gluten.sql.native.parquet.write.blockRows</code></li> <li>option: <code class="language-plaintext highlighter-rouge">parquet.block.rows</code></li> </ul> </li> </ul> <h3 id="fetal-error-caused-by-sparks-columnar-reading"> <a href="#fetal-error-caused-by-sparks-columnar-reading" class="anchor-heading" aria-labelledby="fetal-error-caused-by-sparks-columnar-reading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Fetal error caused by Spark’s columnar reading </h3> <p>If the user enables Spark’s columnar reading, error can occur due to Spark’s columnar vector is not compatible with Gluten’s.</p> <h3 id="spill"> <a href="#spill" class="anchor-heading" aria-labelledby="spill"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Spill </h3> <p><code class="language-plaintext highlighter-rouge">OutOfMemoryExcetpion</code> may still be triggered within current implementation of spill-to-disk feature, when shuffle partitions is set to a large number. When this case happens, please try to reduce the partition number to get rid of the OOM.</p> <h3 id="unsupported-data-type-support-in-parquetscan"> <a href="#unsupported-data-type-support-in-parquetscan" class="anchor-heading" aria-labelledby="unsupported-data-type-support-in-parquetscan"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Unsupported Data type support in ParquetScan </h3> <ul> <li>Byte type causes fallback to vanilla spark</li> <li> <p>Timestamp type</p> <p>Only reading with INT96 and dictionary encoding is supported. When reading INT64 represented millisecond/microsecond timestamps, or INT96 represented timestamps of other encodings, exceptions can occur.</p> </li> <li>Complex types <ul> <li>Parquet scan of nested array with struct or array as element type is not supported in Velox (fallback behavior).</li> <li>Parquet scan of nested map with struct as key type, or array type as value type is not supported in Velox (fallback behavior).</li> </ul> </li> </ul> <h3 id="csv-read"> <a href="#csv-read" class="anchor-heading" aria-labelledby="csv-read"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CSV Read </h3> <p>The header option should be true. And now we only support DatasourceV1, i.e., user should set <code class="language-plaintext highlighter-rouge">spark.sql.sources.useV1SourceList=csv</code>. User defined read option is not supported, which will make CSV read fall back to vanilla Spark in most case. CSV read will also fall back to vanilla Spark and log warning when user specifies schema is different with file schema.</p> </main> <hr> <footer> <p><a href="#top" id="back-to-top">Back to top</a></p> <a href="https://incubator.apache.org/"><img src="/assets/images/apache-incubator.svg" style="width:300px"></a> <p class="text-small text-grey-dk-100 mb-0">Copyright © 2024 The Apache Software Foundation, Licensed under the Apache License, Version 2.0. Apache Gluten, Gluten, Apache, the Apache feather logo, and the Apache Gluten project logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries. All other marks mentioned may be trademarks or registered trademarks of their respective owners.</p> <p class="text-small text-grey-dk-100 mb-0">Apache Gluten is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p> <p class="text-small text-grey-dk-100 mb-0"><a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy Policy</a></p> <div class="d-flex mt-2"> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
