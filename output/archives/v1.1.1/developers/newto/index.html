<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul:nth-of-type(2) > li > ul > li > a, .site-nav > ul:nth-of-type(2) > li > ul > li > ul > li > a, .site-nav > ul:nth-of-type(2) > li > ul > li > ul > li > ul > li > a, .site-nav > ul:nth-of-type(2) > li > ul > li > ul > li > ul > li > ul > li:not(:nth-child(1)) > a, .site-nav > ul:nth-of-type(2) > li > ul > li > ul > li > ul > li > ul > li > ul > li a { background-image: none; } .site-nav > ul:not(:nth-of-type(2)) a, .site-nav li.external a { background-image: none; } .site-nav > ul:nth-of-type(2) > li > ul > li:nth-child(2) > ul > li:nth-child(1) > ul > li:nth-child(2) > ul > li:nth-child(1) > a { font-weight: 600; text-decoration: none; } .site-nav > ul.nav-category-list > li > button svg, .site-nav > ul:nth-of-type(2) > li > ul > li:nth-child(2) > button svg, .site-nav > ul:nth-of-type(2) > li > ul > li:nth-child(2) > ul > li:nth-child(1) > button svg, .site-nav > ul:nth-of-type(2) > li > ul > li:nth-child(2) > ul > li:nth-child(1) > ul > li:nth-child(2) > button svg, .site-nav > ul:nth-of-type(2) > li > ul > li:nth-child(2) > ul > li:nth-child(1) > ul > li:nth-child(2) > ul > li:nth-child(1) > button svg { transform: rotate(-90deg); } .site-nav > ul.nav-category-list > li.nav-list-item > ul.nav-list, .site-nav > ul:nth-of-type(2) > li > ul > li.nav-list-item:nth-child(2) > ul.nav-list, .site-nav > ul:nth-of-type(2) > li > ul > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list, .site-nav > ul:nth-of-type(2) > li > ul > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list, .site-nav > ul:nth-of-type(2) > li > ul > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>v1.1.1/New To Gluten | Apache Gluten incubating</title> <meta name="generator" content="Jekyll v3.9.3" /> <meta property="og:title" content="v1.1.1/New To Gluten" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Help users to debug and test with gluten." /> <meta property="og:description" content="Help users to debug and test with gluten." /> <link rel="canonical" href="https://gluten.apache.org/archives/v1.1.1/developers/newto/" /> <meta property="og:url" content="https://gluten.apache.org/archives/v1.1.1/developers/newto/" /> <meta property="og:site_name" content="Apache Gluten incubating" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2025-10-16T15:16:54+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="v1.1.1/New To Gluten" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-10-16T15:16:54+00:00","datePublished":"2025-10-16T15:16:54+00:00","description":"Help users to debug and test with gluten.","headline":"v1.1.1/New To Gluten","mainEntityOfPage":{"@type":"WebPage","@id":"https://gluten.apache.org/archives/v1.1.1/developers/newto/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://gluten.apache.org/assets/images/gluten-logo-blue.png"}},"url":"https://gluten.apache.org/archives/v1.1.1/developers/newto/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="Apache Gluten incubating"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/downloads/" class="nav-list-link">Downloads</a></li><li class="nav-list-item"><a href="/blog/" class="nav-list-link">Blog</a></li><li class="nav-list-item"><a href="/references/" class="nav-list-link">Gluten References</a></li><li class="nav-list-item"><a href="/poweredby/" class="nav-list-link">Powered by Gluten</a></li><li class="nav-list-item"><a href="/contributing/" class="nav-list-link">Contributing to Gluten</a></li><li class="nav-list-item"><a href="/contact/" class="nav-list-link">Contact Us</a></li><li class="nav-list-item"><a href="/about/" class="nav-list-link">About</a></li></ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="Toggle collection Documentations" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><div class="nav-category">Documentations</div> <ul class="nav-list"><li class="nav-list-item"><a href="/docs/latest.html" class="nav-list-link">Documentation(Latest)</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Archives category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/" class="nav-list-link">Archives</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.1.1 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.1.1/" class="nav-list-link">v1.1.1</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.1.1/Documentation category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.1.1/docs/" class="nav-list-link">v1.1.1/Documentation</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.1.1/Velox Backend category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.1.1/docs/velox/" class="nav-list-link">v1.1.1/Velox Backend</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.1.1/docs/velox/getting-started/" class="nav-list-link">v1.1.1/Getting-Started with Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/docs/velox/build_parameters/" class="nav-list-link">v1.1.1/Build Parameters for Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/docs/velox/s3/" class="nav-list-link">v1.1.1/Using S3 with Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/docs/velox/gcs/" class="nav-list-link">v1.1.1/Using GCS with Gluten</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.1.1/ClickHouse Backend category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.1.1/docs/clickhouse/" class="nav-list-link">v1.1.1/ClickHouse Backend</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.1.1/docs/clickhouse/getting-started/" class="nav-list-link">v1.1.1/Getting Started with ClickHouse Backend</a></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.1.1/Developers category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.1.1/developers/" class="nav-list-link">v1.1.1/Developers</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.1.1/developers/newto/" class="nav-list-link">v1.1.1/New To Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/howto/" class="nav-list-link">v1.1.1/How To Use Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/microbenchmark/" class="nav-list-link">v1.1.1/Micro Benchmarks for Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/cpp_code_style/" class="nav-list-link">v1.1.1/CPP Code Style</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/velox_function_development/" class="nav-list-link">v1.1.1/Velox Function Development</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/docker_ubuntu/" class="nav-list-link">v1.1.1/Docker script for Ubuntu 22.04/20.04</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/docker_centos8" class="nav-list-link">v1.1.1/Docker script for CentOS 8</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/docker_centos7/" class="nav-list-link">v1.1.1/Docker script for CentOS 7</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/substrait/" class="nav-list-link">v1.1.1/Substrait Modifications</a></li><li class="nav-list-item"><a href="/archives/v1.1.1/developers/howtorelease/" class="nav-list-link">v1.1.1/How To Release</a></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.2.1 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.2.1/" class="nav-list-link">v1.2.1</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Documentations(v1.2.1) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.2.1/docs/" class="nav-list-link">Documentations(v1.2.1)</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Getting-Started(v1.2.1) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.2.1/docs/getting-started/" class="nav-list-link">Getting-Started(v1.2.1)</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/velox-backend/" class="nav-list-link">Getting Start with Velox Backend(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/clickhouse-backend/" class="nav-list-link">Getting start with ClickHouse Backend(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/build-guide/" class="nav-list-link">Build Parameters for Velox Backend(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/s3/" class="nav-list-link">Using S3 with Gluten(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/gcs/" class="nav-list-link">Using GCS with Gluten(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/abfs/" class="nav-list-link">Using ABFS with Gluten(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/getting-started/localcache/" class="nav-list-link">Velox Local Caching(v1.2.1)</a></li></ul></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/configuration/" class="nav-list-link">Configuration(v1.2.1)</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Developers(v1.2.1) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.2.1/docs/developers/" class="nav-list-link">Developers(v1.2.1)</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/how-to-use/" class="nav-list-link">How To Use Gluten(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/new-to/" class="nav-list-link">New To Gluten(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/microbenchmarks/" class="nav-list-link">Micro Benchmarks for Velox Backend(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/cpp-code-style/" class="nav-list-link">CPP Code Style(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/velox-function-dev/" class="nav-list-link">Velox Function Development(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/docker-ubuntu/" class="nav-list-link">Docker script for Ubuntu 22.04/20.04(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/docker-centos7/" class="nav-list-link">Docker script for CentOS 7(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/docker-centos8/" class="nav-list-link">Docker script for CentOS 8(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/substrait/" class="nav-list-link">Substrait Modifications(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/how-to-release/" class="nav-list-link">How To Release(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/developers/how-to-security-scan/" class="nav-list-link">How To Scan Security issues(v1.2.1)</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Velox Backend(v1.2.1) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.2.1/docs/velox-backend/" class="nav-list-link">Velox Backend(v1.2.1)</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.2.1/docs/velox-backend/support/" class="nav-list-link">Supported Operators & Functions(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/velox-backend/limitations/" class="nav-list-link">Limitations(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/velox-backend/troubleshooting/" class="nav-list-link">Troubleshooting(v1.2.1)</a></li><li class="nav-list-item"><a href="/archives/v1.2.1/docs/velox-backend/udf/" class="nav-list-link">Velox UDF(v1.2.1)</a></li></ul></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in v1.3.0 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.3.0/" class="nav-list-link">v1.3.0</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Getting-Started category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.3.0/getting-started" class="nav-list-link">Getting-Started</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/velox-backend/" class="nav-list-link">Getting Start with Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/clickhouse-backend/" class="nav-list-link">Getting start with ClickHouse Backend</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/build-guide/" class="nav-list-link">Build Parameters for Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/s3/" class="nav-list-link">Using S3 with Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/gcs/" class="nav-list-link">Using GCS with Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/abfs/" class="nav-list-link">Using ABFS with Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/getting-started/localcache/" class="nav-list-link">Velox Local Caching</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Velox Backend category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.3.0/velox-backend" class="nav-list-link">Velox Backend</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.3.0/velox-backend/support/" class="nav-list-link">Supported Operators & Functions</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/velox-backend/limitations/" class="nav-list-link">Limitations</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/velox-backend/troubleshooting/" class="nav-list-link">Troubleshooting</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/velox-backend/udf/" class="nav-list-link">Velox UDF</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Developers category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/archives/v1.3.0/developers" class="nav-list-link">Developers</a><ul class="nav-list"><li class="nav-list-item"><a href="/archives/v1.3.0/developers/how-to-use/" class="nav-list-link">How To Use Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/new-to/" class="nav-list-link">New To Gluten</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/microbenchmarks/" class="nav-list-link">Micro Benchmarks for Velox Backend</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/velox-function-dev/" class="nav-list-link">Velox Function Development</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/docker-ubuntu/" class="nav-list-link">Docker script for Ubuntu 22.04/20.04</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/docker-centos7/" class="nav-list-link">Docker script for CentOS 7</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/docker-centos8/" class="nav-list-link">Docker script for CentOS 8</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/substrait/" class="nav-list-link">Substrait Modifications</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/how-to-security-scan/" class="nav-list-link">How To Scan Security issues</a></li></ul></li><li class="nav-list-item"><a href="/archives/v1.3.0/configuration" class="nav-list-link">Configuration</a></li><li class="nav-list-item"><a href="/archives/v1.3.0/developers/cpp-code-style/" class="nav-list-link">CPP Code Style</a></li></ul></li></ul></li></ul> </li> </ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Apache Gluten incubating" aria-label="Search Apache Gluten incubating" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <style> /* Style The Dropdown Button */ .dropbtn { background-color: #0000ff80; color: white; padding: 22px; width: 100%; font-size: 14px; border: none; cursor: pointer; } /* The container <div> - needed to position the dropdown content */ .dropdown { position: relative; display: inline-block; } /* Dropdown Content (Hidden by Default) */ .dropdown-content { display: none; position: absolute; background-color: #f9f9f9; min-width: 160px; box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); z-index: 1; } /* Links inside the dropdown */ .dropdown-content a { color: black; padding: 12px 14px; text-decoration: none; display: block; } /* Change color of dropdown links on hover */ .dropdown-content a:hover {background-color: #f1f1f1} /* Show the dropdown menu on hover */ .dropdown:hover .dropdown-content { display: block; } /* Change the background color of the dropdown button when the dropdown content is shown */ .dropdown:hover .dropbtn { background-color: #0000ff; } </style> <!-- Collect the nav links, forms, and other content for toggling --> <div class="dropdown" id="apache-navbar" style="float:left;"> <button class="dropbtn">ASF</button> <div class="dropdown-content"> <a class="dropdown-item" href="https://www.apache.org/">Foundation</a> <a class="dropdown-item" href="https://www.apache.org/events/current-event.html">Event</a> <a class="dropdown-item" href="https://www.apache.org/licenses/">License</a> <a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="dropdown-item" href="https://www.apache.org/security/">Security</a> <a class="dropdown-item" href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy</a> <a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a> </div> </div><!-- /.navbar-collapse --> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/apache/incubator-gluten" class="site-button" target="_blank" rel="noopener noreferrer" > Apache Gluten Github </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/archives/">Archives</a></li> <li class="breadcrumb-nav-list-item"><a href="/archives/v1.1.1/">v1.1.1</a></li> <li class="breadcrumb-nav-list-item"><a href="/archives/v1.1.1/developers/">v1.1.1/Developers</a></li> <li class="breadcrumb-nav-list-item"><span>v1.1.1/New To Gluten</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <p>Help users to debug and test with gluten.</p> <p>For intel internal developer, you could refer to internal wiki <a href="https://wiki.ith.intel.com/display/HPDA/New+Employee+Guide">New Employee Guide</a> to get more information such as proxy settings, Gluten has cpp code and java/scala code, we can use some useful IDE to read and debug.</p> <h1 id="environment"> <a href="#environment" class="anchor-heading" aria-labelledby="environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Environment </h1> <p>Now gluten supports Ubuntu20.04, Ubuntu22.04, centos8, centos7 and macOS.</p> <h2 id="openjdk8"> <a href="#openjdk8" class="anchor-heading" aria-labelledby="openjdk8"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Openjdk8 </h2> <h3 id="environment-setting"> <a href="#environment-setting" class="anchor-heading" aria-labelledby="environment-setting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Environment setting </h3> <p>For root user, the environment variables file is <code class="language-plaintext highlighter-rouge">/etc/profile</code>, it will make effect for all the users.</p> <p>For other user, you can set in <code class="language-plaintext highlighter-rouge">~/.bashrc</code>.</p> <h3 id="guide-for-ubuntu"> <a href="#guide-for-ubuntu" class="anchor-heading" aria-labelledby="guide-for-ubuntu"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Guide for ubuntu </h3> <p>The default JDK version in ubuntu is java11, we need to set to java8.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt <span class="nb">install </span>openjdk-8-jdk
update-alternatives <span class="nt">--config</span> java
java <span class="nt">-version</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">--config java</code> to config java executable path, <code class="language-plaintext highlighter-rouge">javac</code> and other commands can also use this command to config. For some other uses, we suggest to set <code class="language-plaintext highlighter-rouge">JAVA_HOME</code>.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/lib/jvm/java-8-openjdk-amd64/
<span class="nv">JRE_HOME</span><span class="o">=</span><span class="nv">$JAVA_HOME</span>/jre
<span class="nb">export </span><span class="nv">CLASSPATH</span><span class="o">=</span>.:<span class="nv">$JAVA_HOME</span>/lib/dt.jar:<span class="nv">$JAVA_HOME</span>/lib/tools.jar
<span class="c"># pay attention to $PATH double quote</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$PATH</span><span class="s2">:</span><span class="nv">$JAVA_HOME</span><span class="s2">/bin"</span>
</code></pre></div></div> <blockquote> <p>Must set PATH with double quote in ubuntu.</p> </blockquote> <h2 id="maven-363-or-above"> <a href="#maven-363-or-above" class="anchor-heading" aria-labelledby="maven-363-or-above"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Maven 3.6.3 or above </h2> <p><a href="https://maven.apache.org/docs/history.html">Maven Dowload Page</a> And then set the environment setting.</p> <h2 id="gcc-94-or-above"> <a href="#gcc-94-or-above" class="anchor-heading" aria-labelledby="gcc-94-or-above"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GCC 9.4 or above </h2> <h1 id="compile-gluten-using-debug-mode"> <a href="#compile-gluten-using-debug-mode" class="anchor-heading" aria-labelledby="compile-gluten-using-debug-mode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Compile gluten using debug mode </h1> <p>If you want to just debug java/scala code, there is no need to compile cpp code with debug mode. You can just refer to <a href="../get-started/Velox.md#2-build-gluten-with-velox-backend">build-gluten-with-velox-backend</a>.</p> <p>If you need to debug cpp code, please compile the backend code and gluten cpp code with debug mode.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">## compile velox backend with benchmark and tests to debug</span>
gluten_home/dev/builddeps-veloxbe.sh <span class="nt">--build_tests</span><span class="o">=</span>ON <span class="nt">--build_benchmarks</span><span class="o">=</span>ON <span class="nt">--build_type</span><span class="o">=</span>Debug
</code></pre></div></div> <p>If you need to debug the tests in <gluten>/gluten-ut, You need to compile java code with `-P spark-ut`.</gluten></p> <h1 id="javascala-code-development-with-intellij"> <a href="#javascala-code-development-with-intellij" class="anchor-heading" aria-labelledby="javascala-code-development-with-intellij"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Java/scala code development with Intellij </h1> <h2 id="linux-intellij-local-debug"> <a href="#linux-intellij-local-debug" class="anchor-heading" aria-labelledby="linux-intellij-local-debug"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Linux intellij local debug </h2> <p>Install the linux intellij version, and debug code locally.</p> <ul> <li>Ask your linux maintainer to install the desktop, and then restart the server.</li> <li> <p>If you use Moba-XTerm to connect linux server, you don’t need to install x11 server, If not (e.g. putty), please follow this guide: <a href="https://www.businessnewsdaily.com/11035-how-to-use-x11-forwarding.html">X11 Forwarding: Setup Instructions for Linux and Mac</a></p> </li> <li>Download <a href="https://www.jetbrains.com/idea/download/?fromIDE=#section=linux">intellij linux community version</a> to linux server</li> <li>Start Idea, <code class="language-plaintext highlighter-rouge">bash &lt;idea_dir&gt;/idea.sh</code></li> </ul> <p>Notes: Sometimes, your desktop may stop accidently, left idea running.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@xx2:~bash idea-IC-221.5787.30/bin/idea.sh
Already running
root@xx2:~ps ux | <span class="nb">grep </span>intellij
root@xx2:kill <span class="nt">-9</span> &lt;pid&gt;
</code></pre></div></div> <p>And then restart idea.</p> <h2 id="windowsmac-intellij-remote-debug"> <a href="#windowsmac-intellij-remote-debug" class="anchor-heading" aria-labelledby="windowsmac-intellij-remote-debug"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Windows/Mac intellij remote debug </h2> <p>If you have Ultimate intellij, you can try to debug remotely.</p> <h2 id="set-up-gluten-project"> <a href="#set-up-gluten-project" class="anchor-heading" aria-labelledby="set-up-gluten-project"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set up gluten project </h2> <ul> <li>Make sure you have compiled gluten.</li> <li>Load the gluten by File-&gt;Open, select &lt;gluten_home/pom.xml&gt;.</li> <li>Activate your profiles such as <backends-velox>, and Reload Maven Project, you will find all your need modules have been activated.</backends-velox></li> <li>Create breakpoint and debug as you wish, maybe you can try <code class="language-plaintext highlighter-rouge">CTRL+N</code> to find <code class="language-plaintext highlighter-rouge">TestOperator</code> to start your test.</li> </ul> <h2 id="javascala-code-style"> <a href="#javascala-code-style" class="anchor-heading" aria-labelledby="javascala-code-style"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Java/Scala code style </h2> <p>Intellij IDE supports importing settings for Java/Scala code style. You can import <a href="../../dev/intellij-codestyle.xml">intellij-codestyle.xml</a> to your IDE. See <a href="https://www.jetbrains.com/help/idea/configuring-code-style.html#import-code-style">Intellij guide</a>.</p> <p>To generate a fix for Java/Scala code style, you can run one or more of the below commands according to the code modules involved in your PR.</p> <p>For Velox backend:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn spotless:apply -Pbackends-velox -Prss -Pspark-3.2 -Pspark-ut -DskipTests
mvn spotless:apply -Pbackends-velox -Prss -Pspark-3.3 -Pspark-ut -DskipTests
</code></pre></div></div> <p>For Clickhouse backend:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn spotless:apply -Pbackends-clickhouse -Pspark-3.2 -Pspark-ut -DskipTests
mvn spotless:apply -Pbackends-clickhouse -Pspark-3.3 -Pspark-ut -DskipTests
</code></pre></div></div> <h1 id="cpp-code-development-with-visual-studio-code"> <a href="#cpp-code-development-with-visual-studio-code" class="anchor-heading" aria-labelledby="cpp-code-development-with-visual-studio-code"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CPP code development with Visual Studio Code </h1> <p>This guide is for remote debug. We will connect the remote linux server by <code class="language-plaintext highlighter-rouge">SSH</code>. Download the <a href="https://code.visualstudio.com/Download">windows vscode software</a> The important leftside bar is:</p> <ul> <li>Explorer (Project structure)</li> <li>Search</li> <li>Run and Debug</li> <li>Extensions (Install C/C++ Extension Pack, Remote Development, GitLens at least, C++ Test Mate is also suggested)</li> <li>Remote Explorer (Connect linux server by ssh command, click <code class="language-plaintext highlighter-rouge">+</code>, then input <code class="language-plaintext highlighter-rouge">ssh user@10.1.7.003</code>)</li> <li>Manage (Settings)</li> </ul> <p>Input your password in the above pop-up window, it will take a few minutes to install linux vscode server in remote machine folder <code class="language-plaintext highlighter-rouge">~/.vscode-server</code> If download failed, delete this folder and try again.</p> <h2 id="usage"> <a href="#usage" class="anchor-heading" aria-labelledby="usage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Usage </h2> <h3 id="set-up-project"> <a href="#set-up-project" class="anchor-heading" aria-labelledby="set-up-project"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set up project </h3> <p>File-&gt;Open Folder // select gluten folder Select cpp/CmakeList.txt as command prompt Select gcc version as command prompt</p> <h3 id="settings"> <a href="#settings" class="anchor-heading" aria-labelledby="settings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Settings </h3> <p>VSCode support 2 ways to set user setting.</p> <ul> <li>Manage-&gt;Command Palette(Open <code class="language-plaintext highlighter-rouge">settings.json</code>, search by <code class="language-plaintext highlighter-rouge">Preferences: Open Settings (JSON)</code>)</li> <li>Manage-&gt;Settings (Common setting)</li> </ul> <h3 id="build-by-vscode"> <a href="#build-by-vscode" class="anchor-heading" aria-labelledby="build-by-vscode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Build by vscode </h3> <p>VSCode will try to compile the debug version in <gluten_home>/build. And we need to compile velox debug mode before, if you have compiled velox release mode, you just need to do.</gluten_home></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Build the velox debug version in &lt;velox_home&gt;/_build/debug</span>
make debug <span class="nv">EXTRA_CMAKE_FLAGS</span><span class="o">=</span><span class="s2">"-DVELOX_ENABLE_PARQUET=ON -DENABLE_HDFS=ON -DVELOX_BUILD_TESTING=OFF  -DVELOX_ENABLE_DUCKDB=ON -DVELOX_BUILD_TEST_UTILS=ON"</span>
</code></pre></div></div> <p>Then gluten will link velox debug library. Just click <code class="language-plaintext highlighter-rouge">build</code> in bottom bar, you will get intellisense search and link.</p> <h3 id="debug"> <a href="#debug" class="anchor-heading" aria-labelledby="debug"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Debug </h3> <p>The default compile command does not enable test and benchmark, so we cannot get any executable file Open the file in <code class="language-plaintext highlighter-rouge">&lt;gluten_home&gt;/.vscode/settings.json</code> (create if not exists)</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"cmake.configureArgs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"-DBUILD_BENCHMARKS=ON"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"-DBUILD_TESTS=ON"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"C_Cpp.default.configurationProvider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ms-vscode.cmake-tools"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>Then we can get some executables, take <code class="language-plaintext highlighter-rouge">velox_shuffle_writer_test</code> as example</p> <p>Click <code class="language-plaintext highlighter-rouge">Run and Debug</code> to create launch.json in <code class="language-plaintext highlighter-rouge">&lt;gluten_home&gt;/.vscode/launch.json</code> Click <code class="language-plaintext highlighter-rouge">Add Configuration</code> in the top of launch.json, select gdb launch or attach to exists program launch.json example</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">Use</span><span class="w"> </span><span class="err">IntelliSense</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">learn</span><span class="w"> </span><span class="err">about</span><span class="w"> </span><span class="err">possible</span><span class="w"> </span><span class="err">attributes.</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">Hover</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">view</span><span class="w"> </span><span class="err">descriptions</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">existing</span><span class="w"> </span><span class="err">attributes.</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">For</span><span class="w"> </span><span class="err">more</span><span class="w"> </span><span class="err">information</span><span class="p">,</span><span class="w"> </span><span class="err">visit:</span><span class="w"> </span><span class="err">https://go.microsoft.com/fwlink/?linkid=</span><span class="mi">830387</span><span class="w">
  </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"velox shuffle writer test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cppdbg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="s2">"launch"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"program"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/mnt/DP_disk1/code/gluten/cpp/build/velox/tests/velox_shuffle_writer_test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"--gtest_filter=*TestSinglePartPartitioner*"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"stopAtEntry"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cwd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${fileDirname}"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"externalConsole"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MIMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gdb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"setupCommands"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
              </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable pretty-printing for gdb"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-enable-pretty-printing"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"ignoreFailures"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
              </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Set Disassembly Flavor to Intel"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-gdb-set disassembly-flavor intel"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"ignoreFailures"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"benchmark test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cppdbg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="s2">"launch"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"program"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/mnt/DP_disk1/code/gluten/cpp/velox/benchmarks/./generic_benchmark"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/mnt/DP_disk1/code/gluten/cpp/velox/benchmarks/query.json"</span><span class="p">,</span><span class="w"> </span><span class="s2">"--threads=1"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"stopAtEntry"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cwd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${fileDirname}"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"externalConsole"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MIMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gdb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"setupCommands"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
              </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable pretty-printing for gdb"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-enable-pretty-printing"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"ignoreFailures"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
              </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Set Disassembly Flavor to Intel"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-gdb-set disassembly-flavor intel"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"ignoreFailures"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <blockquote> <p>Change <code class="language-plaintext highlighter-rouge">name</code>, <code class="language-plaintext highlighter-rouge">program</code>, <code class="language-plaintext highlighter-rouge">args</code> to yours</p> </blockquote> <p>Then you can create breakpoint and debug in <code class="language-plaintext highlighter-rouge">Run and Debug</code> section.</p> <h3 id="velox-debug"> <a href="#velox-debug" class="anchor-heading" aria-labelledby="velox-debug"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Velox debug </h3> <p>For some velox tests such as <code class="language-plaintext highlighter-rouge">ParquetReaderTest</code>, tests need to read the parquet file in <code class="language-plaintext highlighter-rouge">&lt;velox_home&gt;/velox/dwio/parquet/tests/examples</code>, you should let the screen on <code class="language-plaintext highlighter-rouge">ParquetReaderTest.cpp</code>, then click <code class="language-plaintext highlighter-rouge">Start Debuging</code>, otherwise you will raise No such file or directory exception</p> <h2 id="usefule-notes"> <a href="#usefule-notes" class="anchor-heading" aria-labelledby="usefule-notes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Usefule notes </h2> <h3 id="upgrade-vscode"> <a href="#upgrade-vscode" class="anchor-heading" aria-labelledby="upgrade-vscode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Upgrade vscode </h3> <p>No need to upgrade vscode version, if upgraded, will download linux server again, switch update mode to off Search <code class="language-plaintext highlighter-rouge">update</code> in Manage-&gt;Settings to turn off update mode</p> <h3 id="colour-setting"> <a href="#colour-setting" class="anchor-heading" aria-labelledby="colour-setting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Colour setting </h3> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"workbench.colorTheme"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Quiet Light"</span><span class="err">,</span><span class="w">
 </span><span class="nl">"files.autoSave"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afterDelay"</span><span class="err">,</span><span class="w">
 </span><span class="nl">"workbench.colorCustomizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"editor.wordHighlightBackground"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#063ef7"</span><span class="p">,</span><span class="w">
     </span><span class="err">//</span><span class="w"> </span><span class="nl">"editor.selectionBackground"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#d1d1c6"</span><span class="p">,</span><span class="w">
     </span><span class="err">//</span><span class="w"> </span><span class="nl">"tab.activeBackground"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#b8b9988c"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"editor.selectionHighlightBackground"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#c5293e"</span><span class="w">
 </span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre></div></div> <h3 id="clang-format"> <a href="#clang-format" class="anchor-heading" aria-labelledby="clang-format"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Clang format </h3> <p>Now gluten uses clang-format 12 to format source files.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get <span class="nb">install </span>clang-format-12
</code></pre></div></div> <p>Set config in <code class="language-plaintext highlighter-rouge">settings.json</code></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"clang-format.executable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clang-format-12"</span><span class="err">,</span><span class="w">
</span><span class="nl">"editor.formatOnSave"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="err">,</span><span class="w">
</span></code></pre></div></div> <p>If exists multiple clang-format version, formatOnSave may not take effect, specify the default formatter Search <code class="language-plaintext highlighter-rouge">default formatter</code> in <code class="language-plaintext highlighter-rouge">Settings</code>, select Clang-Format.</p> <p>If your formatOnSave still make no effect, you can use shortcut <code class="language-plaintext highlighter-rouge">SHIFT+ALT+F</code> to format one file mannually.</p> <h1 id="debug-cpp-code-with-coredump"> <a href="#debug-cpp-code-with-coredump" class="anchor-heading" aria-labelledby="debug-cpp-code-with-coredump"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Debug cpp code with coredump </h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> /mnt/DP_disk1/core
sysctl <span class="nt">-w</span> kernel.core_pattern<span class="o">=</span>/mnt/DP_disk1/core/core-%e-%p-%t
<span class="nb">cat</span> /proc/sys/kernel/core_pattern
<span class="c"># set the core file to unlimited size</span>
<span class="nb">echo</span> <span class="s2">"ulimit -c unlimited"</span> <span class="o">&gt;&gt;</span> ~/.bashrc
<span class="c"># then you will get the core file at `/mnt/DP_disk1/core` when the program crashes</span>
<span class="c"># gdb -c corefile</span>
<span class="c"># gdb &lt;gluten_home&gt;/cpp/build/releases/libgluten.so 'core-Executor task l-2000883-1671542526'</span>
</code></pre></div></div> <p>‘core-Executor task l-2000883-1671542526’ is the generated core file name.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">(</span>gdb<span class="o">)</span> bt
<span class="o">(</span>gdb<span class="o">)</span> f7
<span class="o">(</span>gdb<span class="o">)</span> <span class="nb">set </span>print pretty on
<span class="o">(</span>gdb<span class="o">)</span> p <span class="k">*</span>this
</code></pre></div></div> <ul> <li>Get the backtrace</li> <li>Switch to 7th stack</li> <li>Print the variable in a more readable way</li> <li>Print the variable fields</li> </ul> <p>Sometimes you only get the cpp exception message, you can generate core dump file by the following code:</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">char</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
<span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="sc">'a'</span><span class="p">;</span>
</code></pre></div></div> <p>or by the following commands:</p> <ul> <li><code class="language-plaintext highlighter-rouge">gcore &lt;pid&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">kill -s SIGSEGV &lt;pid&gt;</code></li> </ul> <h1 id="debug-cpp-with-gdb"> <a href="#debug-cpp-with-gdb" class="anchor-heading" aria-labelledby="debug-cpp-with-gdb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Debug cpp with gdb </h1> <p>You can use gdb to debug tests and benchmarks. And also you can debug jni call. Place the following code to your debug path.</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pid_t</span> <span class="n">pid</span> <span class="o">=</span> <span class="n">getpid</span><span class="p">();</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"----------------------------------pid: %lun"</span><span class="p">,</span> <span class="n">pid</span><span class="p">);</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</code></pre></div></div> <p>You can also get the pid by java command or grep java program when executing unit test.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jps
1375551 ScalaTestRunner
ps ux | <span class="nb">grep </span>TestOperator
</code></pre></div></div> <p>Execute gdb command to debug:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gdb attach &lt;pid&gt;
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gdb attach 1375551
<span class="nb">wait </span>to attach....
<span class="o">(</span>gdb<span class="o">)</span> b &lt;velox_home&gt;/velox/substrait/SubstraitToVeloxPlan.cpp:577
<span class="o">(</span>gdb<span class="o">)</span> c
</code></pre></div></div> <h1 id="run-tpc-h-and-tpc-ds"> <a href="#run-tpc-h-and-tpc-ds" class="anchor-heading" aria-labelledby="run-tpc-h-and-tpc-ds"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run TPC-H and TPC-DS </h1> <p>We supply <code class="language-plaintext highlighter-rouge">&lt;gluten_home&gt;/tools/gluten-it</code> to execute these queries Refer to <a href="https://github.com/oap-project/gluten/blob/main/.github/workflows/velox_be.yml">velox_be.yml</a></p> <h1 id="run-glutenvelox-on-clean-machine"> <a href="#run-glutenvelox-on-clean-machine" class="anchor-heading" aria-labelledby="run-glutenvelox-on-clean-machine"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run gluten+velox on clean machine </h1> <p>We can run gluten + velox on clean machine by one command (supported OS: Ubuntu20.04/22.04, Centos 7/8, etc.).</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>spark-shell --name run_gluten \
 --master yarn --deploy-mode client \
 --conf spark.plugins=io.glutenproject.GlutenPlugin \
 --conf spark.memory.offHeap.enabled=true \
 --conf spark.memory.offHeap.size=20g \
 --jars https://github.com/oap-project/gluten/releases/download/v1.0.0/gluten-velox-bundle-spark3.2_2.12-ubuntu_20.04_x86_64-1.0.0.jar \
 --conf spark.shuffle.manager=org.apache.spark.shuffle.sort.ColumnarShuffleManager
</code></pre></div></div> </main> <hr> <footer> <p><a href="#top" id="back-to-top">Back to top</a></p> <a href="https://incubator.apache.org/"><img src="/assets/images/apache-incubator.svg" style="width:300px"></a> <p class="text-small text-grey-dk-100 mb-0">Copyright © 2024 The Apache Software Foundation, Licensed under the Apache License, Version 2.0. Apache Gluten, Gluten, Apache, the Apache feather logo, and the Apache Gluten project logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries. All other marks mentioned may be trademarks or registered trademarks of their respective owners.</p> <p class="text-small text-grey-dk-100 mb-0">Apache Gluten is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p> <p class="text-small text-grey-dk-100 mb-0"><a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy Policy</a></p> <div class="d-flex mt-2"> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
